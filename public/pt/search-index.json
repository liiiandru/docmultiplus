[{"content":"Bem-vindo ao Portal de Integra√ß√£o da Multiplus Card Este portal re√∫ne toda a documenta√ß√£o necess√°ria para integrar a automa√ß√£o comercial com as solu√ß√µes da Multiplus Card. Aqui, voc√™ encontrar√° guias detalhados, exemplos de c√≥digo e boas pr√°ticas para diferentes formas de integra√ß√£o, garantindo que sua aplica√ß√£o possa se conectar de forma segura e eficiente.\nNossas Solu√ß√µes de Integra√ß√£o A Multiplus Card oferece diversas op√ß√µes de integra√ß√£o para atender √†s diferentes necessidades do seu sistema:\nTEF Dial ‚Äì Solu√ß√£o baseada em troca de arquivos para a comunica√ß√£o com o TEF. DLL Modo Client ‚Äì Integra√ß√£o direta via DLL, permitindo comunica√ß√£o eficiente entre sua aplica√ß√£o e os servi√ßos da Multiplus Card. DLL Modo Interativo ‚Äì Solu√ß√£o que possibilita uma intera√ß√£o mais flex√≠vel entre seu sistema e o processo de pagamento. Web Service ‚Äì API baseada em HTTP para integra√ß√£o com sistemas web e aplica√ß√µes em nuvem. QRMultiplus (PIX) ‚Äì Pagamentos via QR Code utilizando a tecnologia PIX. LinkPago (Gateway de Pagamento) ‚Äì Integra√ß√£o com o gateway de pagamento da Multiplus Card para diversas formas de pagamento. Conciliador ‚Äì Ferramenta para confer√™ncia e concilia√ß√£o financeira das transa√ß√µes realizadas. Flexibilidade para Diferentes Tecnologias Nosso objetivo √© facilitar a integra√ß√£o, independentemente da linguagem ou plataforma utilizada no seu projeto. Por isso, oferecemos suporte para diversas tecnologias, como:\nC# / .NET Java Delphi VB6 PHP JavaScript / Node.js Outras tecnologias compat√≠veis Al√©m disso, disponibilizamos exemplos de c√≥digo para cada tipo de integra√ß√£o, ajudando voc√™ a implementar as funcionalidades de maneira r√°pida e eficiente.\nComece Agora! Navegue pelo menu lateral para acessar a documenta√ß√£o espec√≠fica de cada integra√ß√£o. Caso precise de suporte ou tenha d√∫vidas, entre em contato com nossa equipe t√©cnica.\nüöÄ Acelere sua integra√ß√£o com a Multiplus Card e ofere√ßa uma experi√™ncia de pagamento completa aos seus clientes!\n","date":"2023-09-07","id":0,"permalink":"/pt/","summary":"\u003ch1 id=\"bem-vindo-ao-portal-de-integra√ß√£o-da-multiplus-card\"\u003eBem-vindo ao Portal de Integra√ß√£o da Multiplus Card\u003c/h1\u003e\n\u003cp\u003eEste portal re√∫ne toda a documenta√ß√£o necess√°ria para integrar a automa√ß√£o comercial com as solu√ß√µes da \u003cstrong\u003eMultiplus Card\u003c/strong\u003e. Aqui, voc√™ encontrar√° guias detalhados, exemplos de c√≥digo e boas pr√°ticas para diferentes formas de integra√ß√£o, garantindo que sua aplica√ß√£o possa se conectar de forma segura e eficiente.\u003c/p\u003e","tags":[],"title":""},{"content":"","date":"2023-09-07","id":1,"permalink":"/pt/privacy/","summary":"","tags":[],"title":"Pol√≠tica de Privacidade"},{"content":"A DLL TefClientMC proporciona uma integra√ß√£o flex√≠vel, permitindo √† automa√ß√£o um alto n√≠vel de controle sobre o fluxo da transa√ß√£o e ampla personaliza√ß√£o por meio de um processo iterativo. √â ideal para automa√ß√µes que buscam preservar sua identidade visual e ter maior controle sobre cada etapa da transa√ß√£o.\nRequisitos para Execu√ß√£o Para a execu√ß√£o da DLL, √© necess√°rio que os seguintes componentes de software estejam instalados:\nMicrosoft .Net Framework 4.6.2 (download) Microsoft Visual C++ 2015-2022 Redistributable (download) Para garantir o funcionamento adequado da DLL, o ambiente deve atender aos seguintes requisitos m√≠nimos:\nWindows 7 SP1 Processador Intel Core i3 3GB de mem√≥ria RAM 1GB de espa√ßo dispon√≠vel no HD 1 porta USB para a conex√£o do Pinpad Para um melhor desempenho e establididade recomendamos a seguinte configura√ß√£o:\nWindows 10 ou superior Processador Intel Core i3, AMD Ryzen 3 ou superior 4GB de mem√≥ria RAM 1,5GB de espa√ßo dispon√≠vel no SSD 1 porta USB para a conex√£o do Pinpad Fluxo de Utiliza√ß√£o A integra√ß√£o com a DLL TefClientMC ocorre por meio da implementa√ß√£o das fun√ß√µes b√°sicas de comunica√ß√£o da biblioteca. O processo de transa√ß√£o se inicia com a chamada da fun√ß√£o IniciaFuncaoMCInterativo.\nAo chamar essa fun√ß√£o com os par√¢metros adequados (detalhados posteriormente), deve-se verificar o retorno. Se for 0, o processo continua normalmente; caso contr√°rio (retorno maior que 0), a transa√ß√£o deve ser encerrada.\nEm seguida, dentro de um la√ßo de repeti√ß√£o, a fun√ß√£o AguardaFuncaoMCInterativo √© chamada. Essa fun√ß√£o retorna um BSTR contendo informa√ß√µes essenciais para a transa√ß√£o. Se o retorno for [ERROABORTAR] ou [ERRODISPLAY], o processo deve ser interrompido imediatamente. Caso contr√°rio, a comunica√ß√£o prossegue por meio da fun√ß√£o ContinuaFuncaoMCInterativo. O la√ßo se encerra quando AguardaFuncaoMCInterativo retorna a tag [RETORNO].\nAp√≥s o recebimento dessa tag, deve-se imprimir o comprovante da transa√ß√£o, armazenar suas informa√ß√µes e, por fim, chamar a fun√ß√£o FinalizaFuncaoMCInterativo, confirmando assim a transa√ß√£o.\nSe for necess√°rio cancelar a transa√ß√£o a qualquer momento, a fun√ß√£o CancelarFluxoMCInterativo pode ser chamada. Essa fun√ß√£o retorna 0 em caso de sucesso e interrompe imediatamente o fluxo da transa√ß√£o.\nO retorno das fun√ß√µes indica o sucesso de sua execu√ß√£o. No caso espec√≠fico de FinalizaFuncaoMCInterativo, o resultado da confirma√ß√£o ou do cancelamento da transa√ß√£o pode ser obtido por meio da fun√ß√£o AguardaFuncaoMCInterativo ou pela verifica√ß√£o do status da transa√ß√£o.\nRetorno Fun√ß√£o INT IniciaFuncaoMCInterativo *BSTR AguardaFuncaoMCInterativo INT ContinuaFuncaoMCInterativo INT FinalizaFuncaoMCInterativo INT CancelarFluxoMCInterativo *Informa√ß√µes sobre o tipo BSTR (Clique aqui)\n(diagrama)\nObserva√ß√µes sobre o Processo Iterativo Durante a execu√ß√£o do la√ßo de repeti√ß√£o, evite a inclus√£o de delays, sleeps ou qualquer instru√ß√£o que possa resultar em atrasos na execu√ß√£o. Isso √© crucial, pois pode levar √† perda de dados ou ao encerramento inesperado da execu√ß√£o. As chamadas para a fun√ß√£o AguardaFuncaoMCInterativo devem ser feitas de maneira cont√≠nua, com tratamento adequado para cada tag. Se uma mensagem for exibida pela automa√ß√£o e voc√™ receber uma nova mensagem ou algum outro retorno, substitua a mensagem anterior apenas nesses casos. Durante o processo, √© importante estar ciente de que em certos momentos, podem ser retornadas strings vazias.\nInstala√ß√£o/Configura√ß√£o Esta solu√ß√£o foi desenhada para funcionar no modelo standalone, ou seja, todos os componentes requeridos devem estar instalados no mesmo dispositivo (disco C:\\). As fun√ß√µes TEF somente podem ser executadas atrav√©s de um equipamento que possua o Pinpad, conex√£o de banda larga e a solu√ß√£o instalada.\nPara o funcionamento da DLL s√£o necess√°rios que os arquivos da DLL e o ConfigMC.ini estejam presentes na mesma pasta em que est√° o execut√°vel do sistema. O Conte√∫do do arquivo ConfigMC.ini, deve apontar o caminho da pasta onde est√° o execut√°vel ClientD.exe.\nConfigMC.ini\rCAMINHO=C:\\ClientD\rO arquivo CliMC.ini deve estar presente na pasta em que o execut√°vel ClientD.exe foi instalado, nele s√£o adicionadas as configura√ß√µes relacionadas ao Pinpad, confirma√ß√£o de transa√ß√µes, venda digitada, etc. A seguir um exemplo de como deve ser o arquivo e os campos b√°sicos que devem ser configurados.\nCliMC.ini\rPorta=3\rMensagemPadrao=MUTLIPLUS CARD\rTransacoesAdicionaisHabilitadas=29\rConfirmacaoAutomatica=SIM\rCampo Valor Descri√ß√£o Porta N√∫mero da porta ou AUTO_USB para identificar de forma autom√°tica Configura√ß√£o de porta do Pinpad MensagemPadrao Texto Mensagem padr√£o exibida na tela do Pinpad TransacoesAdicionaisHabilitadas Verificar configura√ß√µes adicionais Configura√ß√µes referente a servi√ßos disponibilizados ConfirmacaoAutomatica SIM/NAO Realiza a confirma√ß√£o autom√°tica de todas as transa√ß√µes realizadas (a op√ß√£o deve ter o valor NAO, quando s√£o realizadas transa√ß√µes com m√∫ltiplos cart√µes) NomeImpressora Nome da Impressora selecionada Par√¢metro gerado automaticamente ao salvar a impressora padr√£o do QR Code Configura√ß√µes Adicionais Valores configura√ß√µes adicionais\nC√≥digo Descri√ß√£o 29 Opcional, habilita venda cr√©dito digitada (em alguns cart√µes n√£o √© permitido esse modo de utiliza√ß√£o) 42 Opcional habilita venda d√©bito digitada (em alguns cart√µes n√£o √© permitido esse modo de utiliza√ß√£o) Requisitos de Execu√ß√£o Para que o funcionamento da DLL ocorra de forma correta √© necess√°rio que a automa√ß√£o seja executada em Modo Administrador, caso n√£o seja seguido erros poder√£o ser ocasionados. A aplica√ß√£o ClientD.exe tamb√©m deve estar configurada para executar em Modo Administrador.\nProcesso de Atualiza√ß√£o A aplica√ß√£o ClientD.exe √© atualizada automaticamente em momentos estrat√©gicos, ou seja, quando n√£o est√° realizando transa√ß√µes. Se, por algum motivo, estiver em processo de atualiza√ß√£o e uma transa√ß√£o for iniciada, voc√™ receber√° o c√≥digo de erro 41. Nesse caso, tente realizar a transa√ß√£o novamente at√© que o erro n√£o seja mais retornado. No entanto, a DLL TefClientMC requer uma atualiza√ß√£o manual, pois tem um impacto direto na automa√ß√£o. Em caso de mudan√ßas significativas na vers√£o disponibilizada (break changes), haver√° um aviso no Portal. Sempre √© recomend√°vel testar as novas vers√µes antes de liberar a automa√ß√£o para produ√ß√£o.\nFun√ß√µes da DLL IniciaFuncaoMCInterativo Esta fun√ß√£o d√° inicio ao processo de transa√ß√£o, seja com cart√£o, Pix ou administrativa, somente em algumas exce√ß√µes que ela n√£o √© utilizada. Seus par√¢metros s√£o os seguintes:\nTipo Nome Descri√ß√£o INT iComando Comando para executar uma opera√ß√£o, por ex.: venda Cr√©dito, D√©bito, verifique na tabela seguinte todos os comandos dispon√≠veis STRING sCnpjCliente CNPJ do Cliente (apenas n√∫meros ex.: 12345678000100) INT iParcela N√∫mero de Parcelas STRING sCupom N√∫mero do cupom fiscal (At√© 6 caracteres, Ex:123456) STRING sValor Valor da transa√ß√£o utilizando virgula como separador, ex.: 100,00 STRING sNSU N√∫mero do NSU gerado pela frente de caixa (At√© 6 caracteres, Ex:123456) STRING sData Data da transa√ß√£o no seguinte formato yyyyMMdd, ex.: 20211207 STRING sNumeroPDV N√∫mero do PDV que est√° realizando a transa√ß√£o. STRING sCodigoLoja C√≥digo da Loja (Solicitar para Multiplus Card) INT iTipoComunica√ß√£o Par√¢metro de comunica√ß√£o, preencher com 0 STRING sParametro Preencher com uma string vazia ‚Äú‚Äù, string caso n√£o seja utilizado Prot√≥tipo da Fun√ß√£o\rint IniciaFuncaoMCInterativo(int iComando, string sCnpjCliente, int iParcela, string sCupom, string sValor, string sNsu, string sData, string sNumeroPDV, string sCodigoLoja, int iTipoComunicacao, string sParametro)\rC√≥digos de Erro Quando executada corretamente a fun√ß√£o retorna 0, e o fluxo deve continuar; caso ocorra algum erro ser√£o retornados um dos c√≥digos da tabela a seguir:\nC√≥digo Descri√ß√£o 0 Retorno OK (fun√ß√£o foi executada sem erros) 1 Erro gen√©rico na execu√ß√£o 30 N√£o foi encontrado o caminho do ClientD.exe 31 ConfigMC.ini est√° vazio 32 ClientD.exe n√£o encontrado 33 ClientD.exe n√£o est√° em execu√ß√£o 34 Erro ao iniciar ClientD.exe 35 Erro interno do ClientD.exe 36 Erro interno do ClientD.exe 37 Erro na leitura do arquivo ConfigMC.ini 38 Valor da transa√ß√£o com formato incorreto 39 Execut√°vel de envio de transa√ß√µes n√£o encontrado 40 CNPJ Inv√°lido ou no formato incorreto 41 ClientD.exe est√° em processo de atualiza√ß√£o 42 A automa√ß√£o n√£o est√° sendo executada no modo administrador 43 ClientD.exe est√° em execu√ß√£o devido a uma transa√ß√£o anterior 44 Par√¢metros ausentes em opera√ß√£o que utiliza o sParametro 45 Par√¢metros no formato incorreto em opera√ß√£o que utiliza o sParametro 46 Erro ao identificar localiza√ß√£o da DLL 47 N√£o Foi encontrada a localiza√ß√£o da DLL 48 N√£o houve confirma√ß√£o da conclus√£o da execu√ß√£o do ClientD 49 N√∫mero de parcelas inv√°lido 52 C√≥digo de opera√ß√£o inv√°lido para a fun√ß√£o C√≥digos de Opera√ß√£o Para utilizar as fun√ß√µes dispon√≠veis, informe um dos c√≥digos da tabela abaixo no par√¢metro iComando. A maioria das fun√ß√µes segue o mesmo fluxo; caso haja um fluxo alternativo, ele ser√° especificado.\nC√≥digo Descri√ß√£o 4 Venda D√©bito 20 Venda D√©bito a Vista 1 Venda Cr√©dito 0 Venda Cr√©dito a Vista 2 Venda Cr√©dito Parcelado Loja 3 Venda Cr√©dito Parcelado Adm 11 Venda Frota 18 Venda Voucher 9 Consulta saldo credito 10 Consulta saldo debito 15 Pr√© Autoriza√ß√£o 16 Confirma Pr√© Autoriza√ß√£o 17 Cancela Pr√© Autoriza√ß√£o 5 Cancelamento 6 Reimpress√£o 98 Confirma Transa√ß√£o 99 Desfaz Transa√ß√£o 110 Limpeza de Tabelas 200 Coleta de CPF 300 Relat√≥rio de Transa√ß√µes 400 Comprovante de Transa√ß√£o com POS 700 Status da Transa√ß√£o 806 Status do Pin Pad 807 Informa√ß√µes do Pin Pad Observa√ß√µes Sobre os C√≥digos de Opera√ß√£o Os c√≥digos de opera√ß√£o em sua maioria s√£o autoexplicativos, a seguir est√£o descritos alguns c√≥digos, e nomenclaturas que possam gerar d√∫vidas.\nVenda Cr√©dito e Venda Cr√©dito a Vista: a primeira op√ß√£o apresenta um menu para que seja escolhida a modalidade a vista ou parcelada; a segunda op√ß√£o inicia a venda √† vista.\nParcelado Loja e Parcelado Adm: A utiliza√ß√£o destas op√ß√µes est√° vinculada diretamente com a operadora do cliente, pois determina quem ir√° pagar os juros do parcelamento, dependendo da configura√ß√£o da operadora pode n√£o estar dispon√≠vel os dois tipos.\nLimpeza de Tabelas: Na primeira inicializa√ß√£o ou venda do dia, a operadora realiza uma atualiza√ß√£o das informa√ß√µes no Pinpad. Contudo, ao longo do dia, podem ocorrer erros que impedem a conclus√£o das transa√ß√µes, frequentemente manifestados atrav√©s da mensagem \u0026ldquo;Cart√£o Inv√°lido\u0026rdquo;. Nesses casos, uma solu√ß√£o poss√≠vel √© realizar uma atualiza√ß√£o for√ßada das tabelas, o que √© feito utilizando a fun√ß√£o \u0026ldquo;Limpeza de Tabelas\u0026rdquo;. Ap√≥s essa a√ß√£o, ao efetuar uma nova transa√ß√£o, o Pinpad receber√° a carga de tabelas atualizada, permitindo o funcionamento correto do TEF. Ao utilizar esta fun√ß√£o os seguintes retornos poder√£o ser obtidos: SUCESSO ou FALHA, no formato: [RETORNO]#SUCESSO, [RETORNO]#FALHA. Obs.: Para esta opera√ß√£o n√£o √© necess√°rio chamar a fun√ß√£o FinalizaFuncaoMCInterativo.\nColeta de CPF: Esta fun√ß√£o tem por objetivo de auxiliar a automa√ß√£o, tornando a coleta mais discreta para o cliente, no seu funcionamento o CPF √© inserido, em seguida deve ser confirmado pelo cliente se o mesmo est√° correto. A valida√ß√£o do mesmo deve ser feita pela automa√ß√£o, caso esteja incorreto deve ser solicitado novamente.\nCancelamento e Reimpress√£o: o fluxo destas transa√ß√µes pode ter alguma pequena varia√ß√£o dependendo da operadora (algumas n√£o permitem reimpress√£o), ao utilizar elas para finalizar o fluxo a fun√ß√£o FinalizaFuncaoMCInterativo, deve ser chamada com o comando 98, pois nestas fun√ß√µes n√£o √© realizado desfazimento.\nSele√ß√£o do Dispositivo para Realizar a Transa√ß√£o Caso esteja habilitado o uso da fun√ß√£o POS TEF ser√° poss√≠vel definir em qual dispositivo a transa√ß√£o ser√° realizada, no Pinpad ou no SmartPOS, para isso √© necess√°rio realizar a chamada da fun√ß√£o IniciaFuncaoMCInterativo, preenchendo o par√¢metro sParametro da seguinte forma:\nDispositivo Descri√ß√£o Pinpad LEITOR=1 SmartPOS LEITOR=3 Caso n√£o seja informado nenhum valor ou algum diferente dos mencionados acima, ser√° questionado o dispositivo em que a transa√ß√£o ser√° realizada.\nAguardaFuncaoMCInterativo A fun√ß√£o AguardaFuncaoMCInterativo n√£o possui par√¢metros, ela deve ser chamada continuamente em um la√ßo at√© que o processo da transa√ß√£o seja finalizado, com base em seus retornos ser√£o exibidas mensagens solicitando a intera√ß√£o do operador e do cliente. Cada retorno tem um tratamento diferente, por√©m todos iniciam a string com uma tag informando a a√ß√£o.\nProt√≥tipo da Fun√ß√£o\rBSTR AguardaFuncaoMCInterativo()\rA tag sempre √© no seguinte formato [A√ß√£o] e possui como separador um #, em seguida vem o campo a ser exibido.\nExemplo de Retorno\r[MENU]#MODO#1,1-MAGNETICO/CHIP|2,2-DIGITADO\rObserva√ß√£o: o tipo de retorno √© BSTR, na linguagem que for implementada a utiliza√ß√£o da DLL verifique qual √© a melhor forma de realizar uma poss√≠vel convers√£o.\nTags Retornadas Tag [MENU]\nSolicita a exibi√ß√£o de um menu para o usu√°rio selecionar op√ß√µes relativas √† transa√ß√£o, como tipo de financiamento, op√ß√µes de reimpress√£o, sele√ß√£o de produtos, etc. O formato utilizado √© o seguinte:\nFormato do Retorno\r[MENU]#T√çTULO DO MENU#1,1-OP√á√ÉO 1|2,2-OP√á√ÉO 2\rDescri√ß√£o dos Campos Descri√ß√£o dos Campos T√≠tulo do Menu O t√≠tulo que deve ser exibido na interface 1,1-Op√ß√£o As op√ß√µes do menu s√£o separadas por ‚Äú Para selecionar um item deve ser informado o √≠ndice (valor antes da virgula e n√£o a posi√ß√£o na lista/array com as op√ß√µes). Exemplo de utiliza√ß√£o:\nRetornando para a DLL o valor ‚Äú3‚Äù, ser√° escolhida a op√ß√£o Cr√©dito parcelado loja.\nExemplo de Retorno\r[MENU]#TIPO DE FINCANCIAMENTO#1,1-CREDITO A VISTA|2,2-CREDITO PARCELADO ADM|3,3-CREDITO PARCELADO LOJA\rTag [MSG] Retorna uma mensagem que deve ser exibida pela automa√ß√£o, durante o processo podem ser retornadas mensagens vazias, e estas devem ser desconsideradas. Ao receber esta tag n√£o √© necess√°rio retornar valores para a DLL.\nExemplo de Retorno\r[MSG]#AGUARDE A SENHA\r[MSG]#CONECTANDO COM O SERVIDOR\r[MSG]#TRANSACAO APROVADA\rTag [PERGUNTA] Solicita informa√ß√µes para a realiza√ß√£o transa√ß√£o, como n√∫mero de parcelas, valores, data de vencimento, etc. As perguntas podem ter os seguintes tipos de dado INT (inteiro), STRING, DECIMAL e DATE (data).\nEstas s√£o retornadas no seguinte formato:\nFormato do Retorno\r[PERGUNTA]#TEXTO DA PERGUNTA#TIPO DE DADO#TAMANHO MIN√çMO#TAMANHO M√ÅXIMO#VALOR MIN√çMO#VALOR M√ÅXIMO#CASAS DECIMAIS\rDescri√ß√£o dos Campos Descri√ß√£o dos Campos Texto da pergunta A pergunta que deve ser exibida para o usu√°rio. Tipo de Dado Tipo de dado que deve ser utilizado para a valida√ß√£o na resposta. Tamanho M√≠nimo O tamanho m√≠nimo do valor informado, se for 0 n√£o h√° restri√ß√£o. Tamanho M√°ximo O tamanho m√°ximo do valor informado, se for 0 n√£o h√° restri√ß√£o. Valor M√≠nimo Valor m√≠nimo para ser informado, se for 0 n√£o h√° restri√ß√£o. Valor M√°ximo Valor m√°ximo para ser informado, se for 0 n√£o h√° restri√ß√£o. Casas decimais N√∫mero de casas decimais solicitada, se for 0 significa que n√£o est√° solicitando. Para o tipo DATE no tamanho deve ser considerada a m√°scara do campo (caso utilize), ex.: (DD/MM/AA) tem o tamanho 8, valores m√≠nimo e m√°ximo n√£o s√£o retornados.\nA seguir exemplos de perguntas que podem ser retornadas:\nExemplo de Retorno\r[PERGUNTA]#INFORME O NSU#INT#0#0#0,00#0,00#0\r[PERGUNTA]#INFORME A DATA DE VALIDADE (MM/AA) #DATE#0#0#0,00#0,00#0\r[PERGUNTA]#BOM PARA (DD/MM/AA)#DATE#0#0#0,00#0,00#0\r[PERGUNTA]#INFORME O VALOR#DECIMAL#0#0#0,00#0,00#2\rTag [RETORNO] Esta tag indica para a automa√ß√£o que a fun√ß√£o solicitada foi conclu√≠da e os dados retornados podem estar relacionados a transa√ß√µes com cart√£o, Pix, captura de CPF ou relat√≥rio de transa√ß√µes. Assim que recebida deve ser processada para armazenar as informa√ß√µes necess√°rias para a automa√ß√£o e finaliza√ß√£o da transa√ß√£o, al√©m de realizar a impress√£o do comprovante. Seu formato varia de acordo com a transa√ß√£o realizada, a seguir est√° um exemplo de retorno de uma transa√ß√£o com cart√£o.\nExemplo de Retorno\r[RETORNO]#CAMPO0160=CUPOM#CAMPO0002=VALOR#CAMPO0132=COD BANDEIRA#CAMPO0131=COD REDE#CAMPO0135=COD AUTORIZACAO#\rCAMPO0133=NSU#CAMPO0505=QTDE DE PARCELAS#CAMPO0504=VALOR TAXA SERVICO#CAMPO0136=PRIMEIROS NUMEROS CARTAO#\rCAMPO1190=ULTIMOS NUMEROS CARTAO#CAMPO0950=CNPJ AUTORIZADORA#CAMPO1003=NOME CLIENTE#CAMPO0134=NSU REDE#\rCAMPO0513=VENCTO CARTAO#CAMPO122=COMPROVANTE PARA IMPRESSAO UTILIZANDO ‚Äò|‚Äô COMO SEPARADOR |CORTAR#\rCAMPO0003=NUMERO DE VIAS DO COMPROVANTE#CAMPO9999=NOME DA BANDEIRA#CAMPO9998=NOME DA REDE#CAMPO4221=CARTAO PRE PAGO#\rCAMPO0101#DESC DO TIPO DE TRANSACAO#CAMPO0121=COMPROV REDUZIDO\rTag [ERROABORTAR] √â retornada quando ocorre algum erro durante a execu√ß√£o, ou quando um comando de cancelamento √© enviado, seja pela automa√ß√£o ou pelo pin pad. Ao receber esta tag, o fluxo deve ser interrompido imediatamente, acionando a fun√ß√£o CancelarFluxoMCInterativo A mensagem informa a raz√£o da interrup√ß√£o do fluxo. Exemplo:\nExemplo de Retorno\r[ERROABORTAR]#CANCELADO PELO OPERADOR\r[ERROABORTAR]#SEM COMUNICACAO COM O TEF\rTag [ERRODISPLAY] Esta tag indica a ocorr√™ncia de erros no fluxo de transa√ß√£o, frequentemente relacionados com o pin pad ou problemas com o cart√£o. A a√ß√£o a ser tomada ap√≥s recebe-la √© a mesma da tag [ERROABORTAR]: o fluxo deve ser interrompido imediatamente, acionando a fun√ß√£o CancelarFluxoMCInterativo. Exemplos de retorno:\nExemplo de Retorno\r[ERRODISPLAY]#T-14 ERRO PINPAD\r[ERRODISPLAY]#ERRO AO REALIZAR REIMPRESSAO DA TRANSACAO\rObserva√ß√µes No [RETORNO] o Campo122 cont√©m o comprovante a ser impresso, a palavra CORTAR, ela indica que √© o fim do comprovante, facilitando para a automa√ß√£o imprimir as vias separadamente, realizar o acionamento da guilhotina da impressora ou imprimir uma linha para corte manual.\nQuando a fun√ß√£o possuir um retorno com a tag [MSG], n√£o √© necess√°rio utilizar a fun√ß√£o ContinuaFuncaoMCInterativo, pois a DLL est√° informando o que est√° ocorrendo durante o processo, e a exibi√ß√£o destas mensagens fica a crit√©rio da implementa√ß√£o na automa√ß√£o, assim decide-se quais ser√£o relevantes para a exibi√ß√£o.\nA fun√ß√£o para Coleta de CPF retorna para a automa√ß√£o uma string no seguinte formato [RETORNO]#CPF=12345678912, sendo necess√°rio que a mesma realize a valida√ß√£o do CPF coletado.\nContinuaFuncaoMCInterativo A fun√ß√£o ContinuaFuncaoMCInterativo possui como par√¢metro uma string. A fun√ß√£o deve ser chamada ap√≥s o retorno da AguardaFuncaoMCInterativo para dar continuidade ao processo da transa√ß√£o, quando este conter uma tag que solicita intera√ß√£o ex.: [PERGUNTA], [MENU]; tags como [MSG], [RETORNO] n√£o necessitam que seja chamada a fun√ß√£o.\nEsta fun√ß√£o tamb√©m pode ser utilizada para abortar a transa√ß√£o, um cen√°rio de utiliza√ß√£o √© quando o pinpad est√° solicitando que seja inserido o cart√£o e se deseja cancelar o processo, para isso basta fazer a chamada da forma abaixo, em caso de sucesso o retorno ser√° 0, em seguida deve ser aguardado o seguinte retorno:\nExemplo de Retorno\r[ERROABORTAR]#CANCELADO PELO OPERADOR.\rC√≥digos de Erro Como retorno a fun√ß√£o pode ter os c√≥digos da tabela abaixo, quando for 0 o fluxo continua.\nC√≥digo Descri√ß√£o 0 Retorno OK 1 Erro Gen√©rico na execu√ß√£o 35 Erro interno do ClientD.exe 36 Erro interno do ClientD.exe FinalizaFuncaoMCInterativo CancelarFluxoMCInterativo Relat√≥rio de Transa√ß√µes Integra√ß√£o com QRMultiplus (PIX) Integra√ß√£o com o App PinPDV Lite Fun√ß√µes de Pinpad C√≥digos de Erro Solu√ß√£o de Problemas ","date":"2023-09-07","id":2,"permalink":"/pt/documentacao/dll/dlltransparente/","summary":"\u003cp\u003eA DLL \u003cstrong\u003eTefClientMC\u003c/strong\u003e proporciona uma integra√ß√£o flex√≠vel, permitindo √† automa√ß√£o um alto n√≠vel de controle sobre o fluxo da transa√ß√£o e ampla personaliza√ß√£o por meio de um processo iterativo. √â ideal para automa√ß√µes que buscam preservar sua identidade visual e ter maior controle sobre cada etapa da transa√ß√£o.\u003c/p\u003e","tags":[],"title":"DLL TefClientMC - Modo Interativo (DLL Transparente)"},{"content":"Integra√ß√£o com a DLL TefCLientMC Modo Client\n","date":"2023-09-07","id":3,"permalink":"/pt/documentacao/dll/dllcomtela/","summary":"\u003cp\u003eIntegra√ß√£o com a DLL TefCLientMC Modo Client\u003c/p\u003e","tags":[],"title":"DLL TefClientMC (Modo Client)"},{"content":"Nossas Solu√ß√µes de Integra√ß√£o A Multiplus Card oferece diversas op√ß√µes de integra√ß√£o para atender √†s diferentes necessidades do seu sistema:\nTEF Dial ‚Äì Solu√ß√£o baseada em troca de arquivos para a comunica√ß√£o com o TEF. DLL Modo Client ‚Äì Integra√ß√£o direta via DLL, permitindo comunica√ß√£o eficiente entre sua aplica√ß√£o e os servi√ßos da Multiplus Card. DLL Modo Interativo ‚Äì Solu√ß√£o que possibilita uma intera√ß√£o mais flex√≠vel entre seu sistema e o processo de pagamento. Web Service ‚Äì API baseada em HTTP para integra√ß√£o com sistemas web e aplica√ß√µes em nuvem. QRMultiplus (PIX) ‚Äì Pagamentos via QR Code utilizando a tecnologia PIX. LinkPago (Gateway de Pagamento) ‚Äì Integra√ß√£o com o gateway de pagamento da Multiplus Card para diversas formas de pagamento. Conciliador ‚Äì Ferramenta para confer√™ncia e concilia√ß√£o financeira das transa√ß√µes realizadas. ","date":"2023-09-07","id":4,"permalink":"/pt/documentacao/","summary":"\u003ch2 id=\"nossas-solu√ß√µes-de-integra√ß√£o\"\u003eNossas Solu√ß√µes de Integra√ß√£o\u003c/h2\u003e\n\u003cp\u003eA Multiplus Card oferece diversas op√ß√µes de integra√ß√£o para atender √†s diferentes necessidades do seu sistema:\u003c/p\u003e","tags":[],"title":"Documenta√ß√£o"},{"content":"","date":"2023-09-07","id":5,"permalink":"/pt/exemplos/","summary":"","tags":[],"title":"Exemplos"},{"content":"","date":"2023-09-07","id":6,"permalink":"/pt/faq/","summary":"","tags":[],"title":"FAQ"},{"content":"","date":"2023-09-07","id":7,"permalink":"/pt/tutoriais/","summary":"","tags":[],"title":"Tutoriais"},{"content":"","date":"0001-01-01","id":8,"permalink":"/pt/documentacao/tefdial/","summary":"","tags":[],"title":""},{"content":"","date":"0001-01-01","id":9,"permalink":"/pt/categories/","summary":"","tags":[],"title":"Categories"},{"content":"","date":"0001-01-01","id":10,"permalink":"/pt/contributors/","summary":"","tags":[],"title":"Contributors"},{"content":"","date":"0001-01-01","id":11,"permalink":"/pt/tags/","summary":"","tags":[],"title":"Tags"}]